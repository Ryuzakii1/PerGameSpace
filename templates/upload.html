{% extends "base.html" %}

{% block title %}Upload Game - Your Game Library{% endblock %}

{% block content %}
    <h2>Upload New Game(s)</h2>
    <form action="{{ url_for('upload_game') }}" method="POST" enctype="multipart/form-data" class="upload-form">
        <div class="form-group">
            <label for="file">Game File(s):</label>
            <input type="file" id="file" name="file[]" multiple required>
            <small>Select one or more game files (e.g., .exe, .nes, .zip).</small>
        </div>
        
        <div class="form-group">
            <label for="title">Game Title (optional, will auto-detect from filename if blank):</label>
            <input type="text" id="title" name="title" placeholder="e.g., Super Mario World">
            <small>Leave blank for automatic detection from filename. For multiple files, this acts as a prefix.</small>
        </div>

        <div class="form-group">
            <label for="system">System:</label>
            <select id="system" name="system" required>
                {% for sys in systems %}
                    <option value="{{ sys }}">{{ sys }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="description">Description (optional):</label>
            <textarea id="description" name="description" rows="4" placeholder="A brief description of the game."></textarea>
        </div>

        <div class="form-group checkbox-group">
    <input type="checkbox" id="auto_metadata_toggle" name="auto_metadata_toggle">
    <label for="auto_metadata_toggle">Automatically find metadata (cover art & description)</label>
</div>

        <button type="submit" class="btn btn-primary">Upload Game(s)</button>
    </form>
{% endblock %}

{% block scripts_extra %}
    {# Add any specific scripts for the upload page here if needed #}
{% endblock %}