{% extends "base.html" %}

{% block content %}
{# The current_display_title will be passed from the blueprint, e.g., "My Game Library" or "Games on PS2" #}
<h2>{{ current_display_title }}</h2>

{% if games %}
<div class="game-grid">
    {% for game in games %}
    <div class="game-card">
        {# Make the entire card clickable by wrapping content in the <a> tag #}
        <a href="{{ url_for('library.game_detail', game_id=game.id) }}">
            <img src="{{ game.cover_url or url_for('static', filename='placeholder.png') }}" alt="{{ game.title }} Cover">
            <h3>{{ game.title }}</h3>
            <p>{{ game.system }}</p> {# Move system inside the clickable area #}
        </a>
    </div>
    {% endfor %}
</div>
{% else %}
{# Adjusted message for clarity when no games are found #}
<p>No games found {% if current_system_name %}for {{ current_system_name }}{% endif %}. <a href="{{ url_for('library.upload_game') }}">Upload a new game</a>!</p>
{% endif %}
{% endblock %}