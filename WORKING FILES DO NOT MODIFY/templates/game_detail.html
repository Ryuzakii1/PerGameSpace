{% extends "base.html" %}

{% block content %}
    <div class="game-detail-container">
        <a href="{{ url_for('library') }}" class="back-link">&larr; Back to Library</a>

        <div class="game-detail-card">
            <div class="game-detail-header">
                <img src="{{ game.cover_url if game.cover_url else url_for('static', filename='images/placeholder.png') }}" alt="{{ game.title }} Cover" class="game-detail-cover">
                <div class="game-detail-info">
                    <h1>{{ game.title }}</h1>
                    <p class="game-detail-system">System: {{ game.system }}</p>
                    {% if game.release_date %}<p class="game-detail-meta">Release Date: {{ game.release_date }}</p>{% endif %}
                    {% if game.genre %}<p class="game-detail-meta">Genre: {{ game.genre }}</p>{% endif %}
                    {% if game.rating %}<p class="game-detail-meta">Rating: {{ game.rating }}/10</p>{% endif %}
                </div>
            </div>

            <div class="game-detail-description">
                <h2>Description</h2>
                {% if game.description %}
                    <p>{{ game.description }}</p>
                {% else %}
                    <p>No description available for this game.</p>
                {% endif %}
            </div>

            <div class="game-detail-actions">
                <a href="{{ url_for('uploaded_file', filename=game.filename) }}" class="btn btn-primary" download>Play Game</a>
                <a href="{{ url_for('edit_game', game_id=game.id) }}" class="btn btn-secondary">Edit Game Details</a>
                <a href="{{ url_for('delete_game', game_id=game.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete {{ game.title }}? This will also delete the game file!');">Delete Game</a>
            </div>
        </div>
    </div>
{% endblock %}